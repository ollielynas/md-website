xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){4===xmlhttp.readyState&&(200===xmlhttp.status?console.log(xmlhttp.responseText):console.log("Error",xmlhttp.statusText))},console.everything===void 0&&(console.everything=[],console.defaultLog=console.log.bind(console),console.log=function(){let a=new Date;console.everything.push({type:"log",datetime:a.toLocaleDateString("en-GB"),value:Array.from(arguments),stack:"stack trace disabled for non-error messages"}),console.defaultLog.apply(console,arguments)},console.defaultError=console.error.bind(console),console.error=function(){let a=new Date;console.everything.push({type:"error",datetime:a.toLocaleDateString("en-GB"),value:Array.from(arguments),stack:stackTrace()}),console.defaultError.apply(console,arguments)},console.defaultWarn=console.warn.bind(console),console.warn=function(){let a=new Date;console.everything.push({type:"warn",datetime:a.toLocaleDateString("en-GB"),value:Array.from(arguments),stack:"stack trace disabled for non-error messages"}),console.defaultWarn.apply(console,arguments)},console.defaultDebug=console.debug.bind(console),console.debug=function(){let a=new Date;console.everything.push({type:"debug",datetime:a.toLocaleDateString("en-GB"),value:Array.from(arguments),stack:"stack trace disabled for non-error messages"}),console.defaultDebug.apply(console,arguments)});var files="";fetch("tree.txt").then(a=>a.text()).then(a=>{files=a,update_nav()}),collapsed=files.split("\n");var saved_cookies=getCookie("saved cookies");null==saved_cookies&&(saved_cookies="");var collapsed=[],first_time=!0,current_file=getCookie("current page");null==current_file&&(current_file="md_files\\home.md");let url_pg=decodeURIComponent(new URLSearchParams(window.location.search).get("page"));null!=url_pg&&(console.log("urlpg",url_pg),current_file=url_pg.replaceAll("\\","/"));function update_nav(){var a=Math.min,b=Math.max;let c=[],d=document.getElementById("nav");if(null!=d){d.innerHTML="";let e=files.replaceAll("\r","").split("\n");for(f of e){f=f.trim();let e=!1;for(i of collapsed)if(f.includes(i)&&f!=i){e=!0;break}if(e)continue;let g=document.createElement("div");g.className="horizontal";let h=f.split("\\"),j=h[h.length-1],k=document.createElement("p");k.innerText=j,k.id=f,f.includes(".md")?(k.className="link",k.addEventListener("click",function(){load_md(this.id)}),f==current_file.replaceAll("/","\\")&&(k.className+=" ur-here")):(first_time&&c.push(f),k.className="folder",k.addEventListener("click",function(){collapsed.includes(this.id)?collapsed.splice(collapsed.indexOf(this.id),1):collapsed.push(this.id)}),k.className+=collapsed.includes(f)?" open":" close");let l=d.lastChild,m=document.createElement("p");if(m.innerText="\u2008".repeat(b(h.length-1,0))+"\u251C\u2500 ".repeat(a(b(h.length-1,0),1)),null!=l&&l.firstChild.innerText.length+1!=m.innerText.length){let a=l.firstChild,b="\u2514\u2500";l.firstChild.innerText.length+1<m.innerText.length&&(b="\u2514\u252C"),a.innerText=a.innerText.replace("\u251C\u2500",b)}g.appendChild(m),g.appendChild(k),d.appendChild(g)}first_time&&(console.log(collapsed),c.splice(0,2),c.splice(c.indexOf(""),1),collapsed=c,console.log(collapsed),first_time=!1,update_nav())}}var e=document.createElement("base");e.target="_blank",document.head.appendChild(e);function load_md(b){if(null!=b){if(collapsed=collapsed.filter(c=>!b.includes(c.replaceAll("\\","/"))),current_file=b,b.includes(".md")){let a=document.getElementById("md_block");if(null==a)return void console.log("md block not yet loaded");a.src=b,a.onchange=()=>{console.log("change")};let d=a.querySelectorAll("script");console.log(d);for(var c=0;c<d.length;c++)console.log("fakeImage: ",d[c])}setTimeout(()=>{update_cookies()},1e3),update_nav()}}function setCookie(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c)))),d="; expires="+e.toUTCString()}document.cookie=a+"="+(b||"")+d+"; path=/"}function getCookie(a){for(var b,d=a+"=",e=document.cookie.split(";"),g=0;g<e.length;g++){for(b=e[g];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(d))return b.substring(d.length,b.length)}return null}var first_loop=!0;function update_cookies(){if(saved_cookies.includes("current page,")&&setCookie("current page",current_file,600),!current_file.includes("cookies.md"))return;let a="";for(i of document.querySelectorAll("ul li input").values()){let b=i.nextSibling.nodeValue;b=b.replaceAll(" : ",""),console.log(b),b=b.replace(" ","",1),i.disabled=!1,first_loop&&(i.checked=!!saved_cookies.includes(b+","),i.onclick=()=>{update_cookies()}),i.checked?a+=b+",":setCookie(b,"null",0);let c=i.nextElementSibling,d=getCookie(b);null==d&&(d="null"),c.innerText=d}first_loop=!1,setCookie("saved cookies",a,600),saved_cookies=a;for(i of document.querySelectorAll("ul li").values())i.style="list-style-type: none; margin-left:-1em"}setInterval(()=>{update_cookies()},3e3);function stackTrace(){var a=new Error;return a.stack}function get_meta(){let a="-----------------------\n";a+=stackTrace(),a+="\n";for(i of console.everything)"log"!=i.type&&(a+="--------------\n",a+=i.datetime+" "+i.type+"\n"+i.value,a+="\n"+i.stack,a+="\n");return a}